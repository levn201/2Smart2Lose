@page
@model KahootTransnetBW.Pages.Admin.FrageboegenErstellenModel
@{
    ViewData["Title"] = "Admin Dashboard - Fragebögen Erstellen";
}
<link rel="stylesheet" href="~/css/Admin/Dashboard.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/Admin/FrageboegenDesign.css" asp-append-version="true" />


<!-- Header Menu -->
<header class="header">
    <h1>Admin Dashboard</h1>
    <nav class="nav-links">
        <a href="/Admin/User">User</a>
        <a href="/Admin/Frageboegen">Fragebögen</a>
        <a href="/Admin/FrageboegenErstellen">Neue anlegen</a>
        <a href="/Index">Quit</a>
    </nav>
</header>

<div class="main-content" id="neu">
    <h2>Neuen Fragebogen anlegen</h2>
    <p>Erstelle einen neuen Fragebogen mit individuellen Fragen und Einstellungen.</p>
</div>

<!-- Hier wird der Titel eingeladen mit der URzeit Joincode und  -->
<div class="main-content">
    <h2>Neues Quiz erstellen</h2>

    <form method="post">
        <label for="quizTitle">Quiz-Titel:</label>
        <input type="text" id="quizTitle" name="Titel" placeholder="Titel des Quizzes eingeben" value="@Model.Titel" />

        @if (!string.IsNullOrEmpty(Model.TitelError))
        {
            <p class="message">@Model.TitelError</p>
        }
        <button type="submit">Quiz erstellen</button>
    </form>
</div>


<!-- Das Popup -->
<div id="quizPopup" class="popup-overlay" style="display: none;">
    <span class="close-btn" onclick="closeQuizPopup()">&times;</span>

    <div class="main-content">

        <!-- Kopfbereich im Popup -->
        <div class="fragenkopf">
            <div class="fragtitel-anzeige">1</div>
            <div class="fragtitel-anzeige">Titel der Frage</div>
        </div>


        <h2>Frage erstellen</h2>

        <textarea class="frage vollbreite" placeholder="Geben Sie hier die Frage ein"></textarea>

        <div class="antwort-grid">
            <div class="antwort-card bg-1">
                <input type="checkbox" class="checkmark" />
                <textarea placeholder="Antwortoption 1"></textarea>
            </div>
            <div class="antwort-card bg-2">
                <input type="checkbox" class="checkmark" />
                <textarea placeholder="Antwortoption 2"></textarea>
            </div>
            <div class="antwort-card bg-3">
                <input type="checkbox" class="checkmark" />
                <textarea placeholder="Antwortoption 3"></textarea>
            </div>
            <div class="antwort-card bg-4">
                <input type="checkbox" class="checkmark" />
                <textarea placeholder="Antwortoption 4"></textarea>
            </div>
        </div>

        <div class="button-row">
            <button type="button">Weitere Antwort hinzufügen</button>
            <button type="submit">Frage speichern</button>
        </div>
        @* @if (!string.IsNullOrEmpty(Model.loadError))
        {
            <p class="message">@Model.loadError</p>
        } *@
    </div>
</div>



<script>
    function openQuizPopup() {
        const title = document.getElementById("quizTitle").value;
        if (title.trim() === "") {
            alert("Bitte geben Sie einen Quiz-Titel ein.");
            return;
        }

        document.getElementById("quizPopup").style.display = "flex";
        document.body.style.overflow = "hidden"; // verhindert Scrollen
    }

    function closeQuizPopup() {
        document.getElementById("quizPopup").style.display = "none";
        document.body.style.overflow = ""; // erlaubt Scrollen wieder
    }
</script>

